<script>
  async function sendPrompt(type) {
    const story = sessionStorage.getItem("userStory");
    const prompt = type === 'others'
      ? "Reframe the following story as if someone they love were telling it about them. Focus on kindness, support, and what the person might not see in themselves."
      : "Reflect this story back with thoughtful insights. Highlight themes they might be overlooking â€” patterns, strengths, or meaning.";

    const response = await fetch("https://your-llm-plugin-endpoint.com/generate", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ story, prompt })
    });

    const data = await response.json();
    document.getElementById("reflection").innerText = data.output;
  }
</script>

<h2>Choose your lens</h2>
<button onclick="sendPrompt('others')">How someone who loves me might tell it</button>
<button onclick="sendPrompt('insight')">Show me what I might be missing</button>

<pre id="reflection" style="margin-top: 20px; text-align: left; white-space: pre-wrap;">AI insight will appear here...</pre>
